{
  "name": "needle",
  "version": "0.6.6",
  "description": "Tiny yet feature-packed HTTP client. With multipart, charset decoding and proxy support.",
  "keywords": [
    "http",
    "https",
    "simple",
    "request",
    "client",
    "multipart",
    "upload",
    "proxy",
    "deflate",
    "timeout",
    "charset",
    "iconv"
  ],
  "tags": [
    "http",
    "https",
    "simple",
    "request",
    "client",
    "multipart",
    "upload",
    "proxy",
    "deflate",
    "timeout",
    "charset",
    "iconv"
  ],
  "author": {
    "name": "Tomás Pollak",
    "email": "tomas@forkhq.com"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/tomas/needle.git"
  },
  "dependencies": {
    "qs": "",
    "iconv-lite": ""
  },
  "devDependencies": {
    "mocha": "",
    "sinon": "",
    "should": ""
  },
  "scripts": {
    "test": "mocha test"
  },
  "directories": {
    "lib": "./lib"
  },
  "main": "./lib/needle",
  "bin": {
    "needle": "./bin/needle"
  },
  "engines": {
    "node": ">= 0.4.x"
  },
  "readme": "Needle\n======\n\n[![NPM](https://nodei.co/npm/needle.png)](https://nodei.co/npm/needle/)\n\n\nThe leanest and most handsome HTTP client in the Nodelands. With only two dependencies, it supports: \n\n - HTTP and HTTPS requests\n - Basic & Digest auth\n - Forwarding via proxy\n - Multipart form-data (e.g. file uploads)\n - Gzip/deflate compression\n - Automatic XML & JSON parsing\n - 301/302 redirect following\n - Decodes non-UTF-8 content. \n\nIdeal for performing simple, quick HTTP requests in Node.js. If you need OAuth, AWS support or anything fancier, you should check out mikeal's request module. \n\nInstall\n-----\n\n```\nnpm install needle\n```\n\nUsage\n-----\n\n``` js\nvar needle = require('needle');\n\nneedle.get('http://www.google.com', function(error, response) {\n  console.log('Got status code: ' + response.statusCode);\n  console.log(response.body);\n});\n```\n\nMethods\n-------\n\n``` js\nneedle.get(url, [options], callback);\nneedle.head(url, [options], callback);\nneedle.post(url, data, [options], callback);\nneedle.put(url, data, [options], callback);\nneedle.delete(url, data, [options], callback);\n\n// and a generic one\nneedle.request(method, url, data, [options], callback);\n```\n\nCallback receives `(error, response, body)`. You can also access the body through `response.body`. \nIf a JSON is received and parsing is enabled, both `body` and `response.body` will contain a Javascript\nobject instead of the original response string.\n\nStreaming\n---------\n\nNeedle returns the response stream, which means you can pipe it to your heart's content.\n\n``` js\nneedle.get('google.com/images/logo.png').pipe(fs.createWriteStream('logo.png'));\n```\n\nFor more examples, scroll down exactly seven turns of your mousewheel. Perhaps eight.\n\n\nRequest options\n---------------\n\n - `timeout`   : Returns error if no response received in X milisecs. Defaults to `10000` (10 secs). `0` means no timeout.\n - `follow`    : Number of redirects to follow. `false` means don't follow any (default), `true` means 10. \n - `multipart` : Enables multipart/form-data encoding. Defaults to `false`. Use it when uploading files.\n - `proxy`     : Forwards request through HTTP(s) proxy. Eg. `proxy: 'http://proxy.server.com:3128'`\n - `agent`     : Uses an http.Agent of your choice, instead of the global, default one.\n - `headers`   : Object containing custom HTTP headers for request. Overrides defaults described below.\n - `auth`      : Determines what to do with provided username/password. Options are `auto`, `digest` or `basic` (default). `auto` will detect the type of authentication depending on the response headers.\n - `json`      : When `true`, sets content type to `application/json` and sends request body as JSON string, instead of a query string. \n\nResponse options\n----------------\n\n - `decode`    : Whether to decode the text responses to UTF-8, if Content-Type header shows a different charset. Defaults to `true`.\n - `parse`     : Whether to parse XML or JSON response bodies automagically. Defaults to `true`.\n - `output`    : Dump response output to file. This occurs after parsing and charset decoding is done.\n\nNote: To stay light on dependencies, Needle doesn't include the `xml2js` module used for XML parsing. To enable it, simply do `npm install xml2js`.\n\nHTTP Header options\n-------------------\n\nThese are basically shortcuts to the `headers` option described above.\n\n - `compressed`: If `true`, sets 'Accept-Encoding' header to 'gzip,deflate', and inflates content if zipped. Defaults to `false`.\n - `username`  : For HTTP basic auth.\n - `password`  : For HTTP basic auth. Requires username to be passed, obviously.\n - `accept`    : Sets 'Accept' HTTP header. Defaults to `*/*`.\n - `connection`: Sets 'Connection' HTTP header. Defaults to `close`.\n - `user_agent`: Sets the 'User-Agent' HTTP header. Defaults to `Needle/{version} (Node.js {node_version})`.\n\nNode.js TLS Options\n-------------------\n\nThese options are passed directly to `https.request` if present. Taken from the [original documentation](http://nodejs.org/docs/latest/api/https.html):\n\n - `pfx`: Certificate, Private key and CA certificates to use for SSL.\n - `key`: Private key to use for SSL.\n - `passphrase`: A string of passphrase for the private key or pfx.\n - `cert`: Public x509 certificate to use.\n - `ca`: An authority certificate or array of authority certificates to check the remote host against.\n - `ciphers`: A string describing the ciphers to use or exclude.\n - `rejectUnauthorized`: If true, the server certificate is verified against the list of supplied CAs. An 'error' event is emitted if verification fails. Verification happens at the connection level, before the HTTP request is sent.\n - `secureProtocol`: The SSL method to use, e.g. SSLv3_method to force SSL version 3.\n\nExamples\n--------\n\n### GET with querystring\n\n``` js\nneedle.get('http://www.google.com/search?q=syd+barrett', function(err, resp) {\n  if (!err && resp.statusCode == 200)\n    console.log(resp.body); // prints HTML\n});\n```\n\n### HTTPS GET with Basic Auth\n\n``` js\nneedle.get('https://api.server.com', { username: 'you', password: 'secret' },\n  function(err, resp) {\n    // used HTTP auth\n});\n```\n\n### Digest Auth\n\n``` js\nneedle.get('other.server.com', { username: 'you', password: 'secret', auth: 'digest' }, \n  function(err, resp, body) {\n    // needle prepends 'http://' to your URL, if missing\n});\n```\n\n### Custom headers, deflate\n\n``` js\nvar options = {\n  compressed : true,       // request a deflated response\n  parse      : true,       // parse JSON\n  headers    : {\n    'X-Custom-Header': \"Bumbaway atuna\"\n  }\n}\n\nneedle.get('http://server.com/posts.json', options, function(err, resp, body) {\n  // body will contain a JSON.parse(d) object\n  // if parsing fails, you'll simply get the original body\n});\n```\n\n### GET XML object\n\n``` js\nneedle.get('https://news.ycombinator.com/rss', function(err, resp, body) {\n  // if xml2js is installed, you'll get a nice object containing the nodes in the RSS\n});\n```\n\n### GET binary, output to file\n\n``` js\nneedle.get('http://upload.server.com/tux.png', { output: '/tmp/tux.png' }, function(err, resp, body) {\n  // you can dump any response to a file, not only binaries.\n});\n```\n\n### GET through proxy\n\n``` js\nneedle.get('http://search.npmjs.org', { proxy: 'http://localhost:1234' }, function(err, resp, body) {\n  // request passed through proxy\n});\n```\n\n### Simple POST\n\n``` js\nneedle.post('https://my.app.com/endpoint', 'foo=bar', function(err, resp, body) {\n  // you can pass params as a string or as an object\n});\n```\n\n### PUT with data object\n\n``` js\nvar nested = {\n  params: {\n    are: {\n      also: 'supported'\n    }\n  }\n}\n\nneedle.put('https://api.app.com/v2', nested, function(err, resp, body) {\n  // if you don't pass any data, needle will throw an exception.\n});\n```\n\n### File upload using multipart, passing file path\n\n``` js\nvar data = {\n  foo: 'bar',\n  image: { file: '/home/tomas/linux.png', content_type: 'image/png' }\n}\n\nneedle.post('http://my.other.app.com', data, { multipart: true }, function(err, resp, body) {\n  // needle will read the file and include it in the form-data as binary\n});\n```\n\n### Multipart POST, passing data buffer\n\n``` js\nvar buffer = fs.readFileSync('/path/to/package.zip');\n\nvar data = {\n  zip_file: {\n    buffer       : buffer,\n    filename     : 'mypackage.zip',\n    content_type : 'application/octet-stream'\n  },\n}\n\nneedle.post('http://somewhere.com/over/the/rainbow', data, { multipart: true }, function(err, resp, body) {\n  // if you see, when using buffers we need to pass the filename for the multipart body.\n  // you can also pass a filename when using the file path method, in case you want to override\n  // the default filename to be received on the other end.\n});\n```\n\n### Multipart with custom Content-Type\n\n``` js\nvar data = {\n  token: 'verysecret',\n  payload: {\n    value: JSON.stringify({ title: 'test', version: 1 }),\n    content_type: 'application/json'\n  }\n}\n\nneedle.post('http://test.com/', data, { timeout: 5000, multipart: true }, function(err, resp, body) {\n  // in this case, if the request takes more than 5 seconds\n  // the callback will return a [Socket closed] error\n});\n```\n\nCredits\n-------\n\nWritten by Tomás Pollak, with the help of contributors.\n\nCopyright\n---------\n\n(c) 2013 Fork Ltd. Licensed under the MIT license.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/tomas/needle/issues"
  },
  "homepage": "https://github.com/tomas/needle",
  "_id": "needle@0.6.6",
  "dist": {
    "shasum": "a958d4ce08b9b2fb70a9874026c1aba2a9f2ae06"
  },
  "_from": "needle@latest",
  "_resolved": "https://registry.npmjs.org/needle/-/needle-0.6.6.tgz"
}
